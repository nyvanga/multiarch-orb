description: >
  Retrieves Github release and converts to CircleCI continuation parameters JSON.
parameters:
  owner:
    type: string
    description: "Github owner."
  repo:
    type: string
    description: "Github repo of the owner."
  jsonfile:
    type: string
    description: "JSON Filename to append parameters (uses 'jq --slurp add')."
steps:
  - run:
      name: "Get Github releases '<< parameters.owner >>/<< parameters.repo >>'"
      command: << include(scripts/get_github_releases_parameters.sh) >>
      environment:
        OWNER: << parameters.owner >>
        REPO: << parameters.repo >>
        COMMAND: circleci_parameters
        JSONFILE: << parameters.jsonfile >>
